<?xml version="1.0"?>
<!--
  ~ Copyright 2011 Delving B.V.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<record-definition prefix="tib">
    <namespaces>
        <namespace prefix="dc" uri="http://purl.org/dc/elements/1.1/" schema="http://dublincore.org/schemas/xmls/qdc/dc.xsd"/>
        <namespace prefix="dcterms" uri="http://purl.org/dc/terms/" schema="http://dublincore.org/schemas/xmls/qdc/dcterms.xsd"/>
        <namespace prefix="europeana" uri="http://www.europeana.eu/schemas/ese/" schema="http://www.europeana.eu/schemas/ese/ESE-V3.3.xsd"/>
        <namespace prefix="ese" uri="http://www.europeana.eu/schemas/ese/" schema="http://www.europeana.eu/schemas/ese/ESE-V3.3.xsd"/>
        <namespace prefix="icn" uri="http://www.icn.nl/" schema="http://www.icn.nl/schemas/ICN-V3.2.xsd"/>
        <namespace prefix="delving" uri="http://www.delving.eu/schemas/delving/" schema="http://www.delving.eu/schemas/delving/DELVING-1.0.xsd"/>
        <namespace prefix="tib" uri="http://www.thuisinbrabant.nl/" schema="http://www.thuisinbrabant.nl/schemas/TIB-V1.0.xsd"/>
    </namespaces>

    <!-- mapping instructions
       Adlib fields that don't need to be mapped

       - acquisition
       - alternative
       - condition
       - conservation
       - documentation
       - edit data
       - input
       - insurance
       - current location
       - loan incoming
       - loan outgoing
       - location
       - valuation
       - reproduction

    -->
    <root localName="record">
        <field prefix="delving" localName="deepZoomUrl" fieldType="string"/>
        <field prefix="delving" localName="year" fieldType="string"/>

        <field prefix="tib" localName="citName" fieldType="string"/>
        <field prefix="tib" localName="citOldId" fieldType="string"/>
        <field prefix="tib" localName="thumbLarge" fieldType="string" summaryField="THUMBNAIL"/>
        <field prefix="tib" localName="thumbSmall" fieldType="string"/>
        <field prefix="tib" localName="collection" fieldType="string"/>
        <field prefix="tib" localName="creatorRole" fieldType="string"/>
        <field prefix="tib" localName="productionPeriod" fieldType="string"/>
        <field prefix="tib" localName="productionStart" fieldType="string"/>
        <field prefix="tib" localName="productionEnd" fieldType="string"/>
        <field prefix="tib" localName="creatorBirthYear" fieldType="string"/>
        <field prefix="tib" localName="creatorDeathYear" fieldType="string"/>
        <field prefix="tib" localName="formatted" fieldType="string"/> <!-- this field contains pre-formatted html that needs to be rendered unmodified -->
        <field prefix="tib" localName="year" fieldType="date">
            <converter multipleOutput="true" call=".extractYear()"/>
        </field>
        <field prefix="tib" localName="period" fieldType="string"/>

        <!-- add dimensions in a prefab form with unit value and type -->
	    <field prefix="tib" localName="dimension"/>
        <field prefix="tib" localName="objectNumber" fieldType="string"/>
        <field prefix="tib" localName="objectSoort" fieldType="string">
            <options>
                <string>dummy item1</string>
                <string>dummy item2</string>
            </options>
        </field>
        <field prefix="tib" localName="material">
        <options>
                <string>dummy item1</string>
                <string>dummy item2</string>
            </options>
        </field>
        <field prefix="tib" localName="place"/>
        <field prefix="tib" localName="technique"/>
        <field prefix="tib" localName="date"/>
        <field prefix="tib" localName="collectionPart" fieldType="string"/>
        <field prefix="tib" localName="person" fieldType="text"/>
        <field prefix="tib" localName="region" fieldType="text"/>
        <field prefix="tib" localName="event" fieldType="text"/>
        <field prefix="tib" localName="theme" fieldType="text"/>
        <field prefix="tib" localName="pageStart" fieldType="string"/>
        <field prefix="tib" localName="pageEnd" fieldType="string"/>
        <field prefix="tib" localName="pages" fieldType="string"/>
        <field prefix="tib" localName="vindplaats" fieldType="string"/>
        <field prefix="tib" localName="location" fieldType="location"/>
        <field prefix="delving" localName="fullTextObjectUrl" fieldType="string"/>
        <field prefix="delving" localName="fullText" fieldType="text" summaryField="SNIPPET"/>

        X<field prefix="dc" localName="contributor" />
        x<field prefix="dc" localName="coverage" />
        x<field prefix="dc" localName="creator" summaryField="CREATOR"/>
        x<field prefix="dc" localName="date"/> <!--removed extract year it doesn't belong here -->
        x<field prefix="dc" localName="description" summaryField="SNIPPET"/>
        x<field prefix="dc" localName="format"/>
        x<field prefix="dc" localName="identifier" />
        x<field prefix="dc" localName="language"/>
        x<field prefix="dc" localName="publisher"/>
        x<field prefix="dc" localName="relation" />
        x<field prefix="dc" localName="rights"/>
        x<field prefix="dc" localName="source"/>
        x<field prefix="dc" localName="subject"/>
        x<field prefix="dc" localName="title" summaryField="TITLE"/>
        x<field prefix="dc" localName="type"/>

        x<field prefix="dcterms" localName="alternative"/>
        x<field prefix="dcterms" localName="conformsTo"/>
        x<field prefix="dcterms" localName="created" />
        x<field prefix="dcterms" localName="extent" />
        x<field prefix="dcterms" localName="hasFormat" />
        x<field prefix="dcterms" localName="hasPart" />
        x<field prefix="dcterms" localName="hasVersion" />
        x<field prefix="dcterms" localName="isFormatOf"/>
        x<field prefix="dcterms" localName="isPartOf"/>
        x<field prefix="dcterms" localName="isReferencedBy" />
        x<field prefix="dcterms" localName="isReplacedBy" />
        x<field prefix="dcterms" localName="isRequiredBy" />
        x<field prefix="dcterms" localName="isVersionOf"/>
        x<field prefix="dcterms" localName="issued" />
        x<field prefix="dcterms" localName="medium" />
        x<field prefix="dcterms" localName="provenance"/>
        x<field prefix="dcterms" localName="references"/>
        x<field prefix="dcterms" localName="replaces" />
        x<field prefix="dcterms" localName="requires" />
        x<field prefix="dcterms" localName="spatial" />
        x<field prefix="dcterms" localName="tableOfContents" />
        x<field prefix="dcterms" localName="temporal" />
        x<field prefix="dcterms" localName="rightsHolder"/>

       x <field prefix="europeana" localName="collectionName" factName="spec"/>
       x <field prefix="europeana" localName="collectionTitle" factName="name"/>
        x<field prefix="europeana" localName="country" factName="country"/>
        x<field prefix="europeana" localName="dataProvider" factName="dataProvider" summaryField="OWNER"/>
        x<field prefix="europeana" localName="isShownAt" fieldType="string" summaryField="LANDING_PAGE"/>
        x<field prefix="europeana" localName="isShownBy" fieldType="string" />
        x<field prefix="europeana" localName="language" fieldType="string" factName="language"/>
        x<field prefix="europeana" localName="object"/>
        x<field prefix="europeana" localName="provider" factName="provider"/>
        x<field prefix="europeana" localName="rights" factName="rights"/>
        x<field prefix="europeana" localName="source"/> <!-- to be deleted is unused -->
        x<field prefix="europeana" localName="type" fieldType="string" factName="type"/>
        x<field prefix="europeana" localName="unstored" fieldType="text"/>
        x<field prefix="europeana" localName="uri" fieldType="string" identifierField="true">
            <!--<converter call=".toId(spec)"/>-->
        </field>
        x<field prefix="europeana" localName="year" fieldType="string">
            <converter multipleOutput="true" call=".extractYear()"/>
        </field>
    </root>

    <validation>
        assert record.'europeana:collectionTitle'
        assert record.'europeana:country'
        assert record.'europeana:dataProvider'
        assert record.'europeana:provider'
        assert record.'europeana:language'
        assert record.'europeana:rights'
        assert record.'europeana:type'
        assert record.'europeana:uri'
        assert record.'europeana:isShownAt' || record.'europeana:isShownBy'
        <!--assert isUrl(record.'europeana:isShownAt')-->
        <!--assert isUrl(record.'europeana:isShownBy')-->
        assert isUrl(record.'delving:deepZoomUrl')
        assert record.'tib:collection'
        <!--assert record.'tib:objectSoort'-->
        assert isUnique(record.'europeana:uri')
    </validation>
</record-definition>